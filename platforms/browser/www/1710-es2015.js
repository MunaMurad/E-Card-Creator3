"use strict";(self.webpackChunkionic5fullapp_final=self.webpackChunkionic5fullapp_final||[]).push([[1710],{41710:function(t,o,e){e.r(o),e.d(o,{FoodCartPageModule:function(){return A}});var n=e(38583),i=e(3679),s=e(52462),r=e(17410),c=e(64762),l=e(62272),a=e(29785),u=e(73071);function g(t,o){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&t){const t=o.$implicit;l.xp6(1),l.hij("",t.name,"\t\xa0")}}function d(t,o){if(1&t){const t=l.EpF();l.TgZ(0,"ion-item-sliding",9,13),l.TgZ(2,"ion-item",14),l.TgZ(3,"ion-thumbnail",1),l._UZ(4,"ion-img",15),l.qZA(),l.TgZ(5,"ion-label",10),l.TgZ(6,"h3"),l._uU(7),l.qZA(),l.TgZ(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11," Addon: "),l.YNc(12,g,2,1,"span",16),l.qZA(),l.qZA(),l.TgZ(13,"h5",17),l._uU(14),l.ALo(15,"currency"),l.qZA(),l.qZA(),l.TgZ(16,"ion-item-options",18),l.TgZ(17,"ion-item-option",19),l.NdJ("click",function(){const o=l.CHM(t).index,e=l.MAs(1);return l.oxw(2).removeCartProduct(o,e)}),l._UZ(18,"ion-icon",20),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=o.$implicit;l.xp6(4),l.Q6J("src",t.image),l.xp6(3),l.Oqu(t.name),l.xp6(2),l.hij("Size: ",t.size,""),l.xp6(3),l.Q6J("ngForOf",t.addOn),l.xp6(2),l.Oqu(l.Dn7(15,5,t.price,"USD","symbol"))}}function h(t,o){if(1&t&&(l.TgZ(0,"div"),l.TgZ(1,"ion-list"),l.YNc(2,d,19,9,"ion-item-sliding",8),l.TgZ(3,"ion-item",9),l.TgZ(4,"ion-label",10),l.TgZ(5,"h1",11),l._uU(6,"Total:"),l.qZA(),l.qZA(),l.TgZ(7,"h5",12),l._uU(8),l.ALo(9,"currency"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(2),l.Q6J("ngForOf",t.selectedItems),l.xp6(6),l.Oqu(l.Dn7(9,2,t.total,"USD","symbol"))}}function p(t,o){1&t&&(l.TgZ(0,"div",21),l.TgZ(1,"div",22),l._UZ(2,"ion-icon",23),l.qZA(),l.TgZ(3,"div",24),l.TgZ(4,"ion-text",25),l.TgZ(5,"h1",26),l._uU(6,"Your shopping cart is empty"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div"),l.TgZ(8,"ion-button",27),l._uU(9,"Continue shopping"),l.qZA(),l.qZA(),l.qZA())}function m(t,o){if(1&t){const t=l.EpF();l.TgZ(0,"ion-footer"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-grid",5),l.TgZ(3,"ion-button",28),l.NdJ("click",function(){return l.CHM(t),l.oxw().checkout()}),l._uU(4,"Checkout"),l.qZA(),l.TgZ(5,"ion-button",27),l._uU(6,"Continue shopping"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}}const f=[{path:"",component:(()=>{class t{constructor(t,o,e,n,i,s){this.foodService=t,this.userService=o,this.activatedRoute=e,this.navController=n,this.router=i,this.alertController=s,this.selectedItems=[],this.total=0,this.totalValue=0,this.userAuth=!1}ngOnInit(){return(0,c.__awaiter)(this,void 0,void 0,function*(){})}ionViewWillEnter(){return(0,c.__awaiter)(this,void 0,void 0,function*(){this.userAuth=yield this.userService.isLoggedIn(),this.userId=yield this.userService.getUserId(),this.getCartProduct(),console.log("___this.userAuth="+this.userAuth),console.log("___this.userId="+this.userId)})}removeCartProduct(t,o){o.close(),console.log("removeCart"),this.foodService.removeItemCart(t),this.getCartProduct()}getCartProduct(){const t=this.foodService.getCart();console.log("____food-cart : items="+t),this.totalValue=0;for(const o of t)this.totalValue+=o.price;this.selectedItems=t,console.log("selected Addon="+this.selectedItems),this.total=this.totalValue}getCartSameProduct(){const t=this.foodService.getCart(),o={};for(const e of t)o[e.itemId]?o[e.itemId].count++:o[e.itemId]=Object.assign(Object.assign({},e),{count:1});this.selectedItems=Object.keys(o).map(t=>o[t]),console.log("selected Addon="+this.selectedItems),this.total=this.selectedItems.reduce((t,o)=>t+o.count*o.price,0)}presentAlertConfirm(){return(0,c.__awaiter)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"No permission",message:"You have to signin first!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Confirm Cancel: blah")}},{text:"Login",handler:()=>{console.log("Go to login page"),this.router.navigateByUrl("/fire-signin?redirectUrl=food-checkout")}}]})).present()})}checkout(){this.userAuth?(console.log("checkout()___userAuth = true"),this.router.navigateByUrl("/food-checkout")):(console.log("checkout()___userAuth = false"),this.presentAlertConfirm())}}return t.\u0275fac=function(o){return new(o||t)(l.Y36(a.d),l.Y36(u.K),l.Y36(r.gz),l.Y36(s.SH),l.Y36(r.F0),l.Y36(s.Br))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-food-cart"]],decls:11,vars:3,consts:[[1,"ion-no-border"],["slot","start"],["color","success"],["color","success",1,"main-b-header6"],["padding",""],["fixed","",1,"ion-no-padding"],[4,"ngIf"],["text-center","",4,"ngIf"],["lines","none","class","ion-margin-top",4,"ngFor","ngForOf"],["lines","none",1,"ion-margin-top"],[1,"text-left"],[1,"main-b-header8"],["slot","end","text-right","",1,"main-b-header8"],["slidingItem",""],["lines","none"],[3,"src"],[4,"ngFor","ngForOf"],["slot","end","text-right","",1,"main-header7"],["side","end"],[3,"click"],["slot","icon-only","size","small","name","trash"],["text-center",""],[1,"logo-box"],["name","basket-outline","color","light",1,"notification","pop-in"],[1,"ion-text-center"],["color","ulightgrey",1,"ion-margin-bottom"],[1,"main-header5"],["color","","fill","blank","expand","full","routerLink","/food-home"],["color","success","expand","full",3,"click"]],template:function(t,o){1&t&&(l.TgZ(0,"ion-header",0),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-buttons",1),l._UZ(3,"ion-back-button",2),l.qZA(),l.TgZ(4,"ion-title",3),l._uU(5,"Cart"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-content",4),l.TgZ(7,"ion-grid",5),l.YNc(8,h,10,6,"div",6),l.YNc(9,p,10,0,"div",7),l.qZA(),l.qZA(),l.YNc(10,m,7,0,"ion-footer",6)),2&t&&(l.xp6(8),l.Q6J("ngIf",o.selectedItems.length),l.xp6(1),l.Q6J("ngIf",!o.selectedItems.length),l.xp6(1),l.Q6J("ngIf",o.selectedItems.length))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,s.jY,n.O5,s.q_,n.sg,s.Ie,s.Q$,s.td,s.Bs,s.Xz,s.IK,s.u8,s.gu,s.yW,s.YG,s.YI,r.rH,s.fr],pipes:[n.H9],styles:["ion-thumbnail[_ngcontent-%COMP%]{--size: 50px;border-radius:8px!important;background-color:#ddd}ion-thumbnail[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border-radius:8px!important}.fixedLabel[_ngcontent-%COMP%]{min-width:100%!important;max-width:100%!important}.logo-box[_ngcontent-%COMP%]{width:100%;height:200px;position:relative;overflow:hidden;margin-top:20%}.logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:140px;height:140px;top:0;bottom:0;right:0;left:0;margin:auto}.logo-box[_ngcontent-%COMP%]   ion-icon.notification[_ngcontent-%COMP%]{font-size:150px;position:absolute;width:140px;height:140px;top:0;bottom:0;right:0;left:0;margin:auto}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.Bz.forChild(f)],r.Bz]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[n.ez,i.u5,s.Pc,Z]]}),t})()}}]);
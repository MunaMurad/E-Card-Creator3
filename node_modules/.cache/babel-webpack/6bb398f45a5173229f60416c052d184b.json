{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport { createObjectSnapshotChanges } from './snapshot-changes';\nexport function createObjectReference(query, afDatabase) {\n  return {\n    query,\n\n    snapshotChanges() {\n      return createObjectSnapshotChanges(query, afDatabase.schedulers.outsideAngular)().pipe(afDatabase.keepUnstableUntilFirst);\n    },\n\n    update(data) {\n      return query.ref.update(data);\n    },\n\n    set(data) {\n      return query.ref.set(data);\n    },\n\n    remove() {\n      return query.ref.remove();\n    },\n\n    valueChanges() {\n      const snapshotChanges$ = createObjectSnapshotChanges(query, afDatabase.schedulers.outsideAngular)();\n      return snapshotChanges$.pipe(afDatabase.keepUnstableUntilFirst, map(action => action.payload.exists() ? action.payload.val() : null));\n    }\n\n  };\n} //# sourceMappingURL=create-reference.js.map","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { AngularFirestore } from \"@angular/fire/firestore\";\nimport { map } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/firestore\";\nexport let MiscService = /*#__PURE__*/(() => {\n  class MiscService {\n    constructor(firestore) {\n      this.firestore = firestore;\n    } //*******************************//\n    //****** Get all places *********//\n    //*******************************//\n\n\n    getAllPlaces() {\n      console.log(\"start getAllHouse\"); // this.postDoc = this.afs.doc<Post>(`posts/${categoryId}`)\n      // return this.postDoc.valueChanges()\n\n      return this.firestore.collection(\"layout_map\").snapshotChanges().pipe(map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data(); // get id from firebase metadata\n\n          const id = a.payload.doc.id;\n          console.log(\"####place data=\" + data);\n          console.log(\"####place Id =\" + id);\n          return Object.assign({\n            id\n          }, data);\n        });\n      }));\n    } //******************************//\n    //****** Get place detail ******//\n    //******************************//\n\n\n    getPlaceById(itemId) {\n      console.log(\"---> call getPlaceById()\");\n      return this.firestore.doc(\"layout_map/\" + itemId).valueChanges();\n    }\n\n  }\n\n  MiscService.ɵfac = function MiscService_Factory(t) {\n    return new (t || MiscService)(i0.ɵɵinject(i1.AngularFirestore));\n  };\n\n  MiscService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MiscService,\n    factory: MiscService.ɵfac,\n    providedIn: \"root\"\n  });\n  return MiscService;\n})();","map":null,"metadata":{},"sourceType":"module"}
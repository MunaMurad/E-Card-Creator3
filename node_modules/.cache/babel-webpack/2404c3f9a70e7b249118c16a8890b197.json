{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { FormBuilder, Validators } from \"@angular/forms\";\nimport { MenuController } from \"@ionic/angular\";\nimport { IonicComponentService } from \"../../services/ionic-component.service\";\nimport { UserService } from \"../../services/user.service\";\nlet FireSigninPage = class FireSigninPage {\n  constructor(router, activatedRoute, menuCtrl, userService, ionicComponentService, //****** form validation ********//\n  formBuilder) {\n    //this.catId = this.activatedRoute.snapshot.paramMap.get('catId');\n    /// console.log(\"CatId=\"+this.catId);\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.menuCtrl = menuCtrl;\n    this.userService = userService;\n    this.ionicComponentService = ionicComponentService;\n    this.formBuilder = formBuilder;\n    this.showPassword = false;\n    let EMAIL_REGEXP = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/; // this.registerForm = fb.group({\n    //let Email_Val =     /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/\n    // this.registerForm = fb.group({\n    //       email: ['', Validators.compose([Validators.required, Validators.pattern(EMAIL_REGEXP)])],\n    //       profileName: ['', Validators.compose([Validators.minLength(2), Validators.required])],\n    //       phone: ['', Validators.compose([Validators.minLength(6), Validators.required])],\n    //       password: ['', Validators.compose([Validators.minLength(6), Validators.required])],\n    // });\n    // this.redirectPath = this.activatedRoute.snapshot.paramMap.get('redirectPath');\n    // Tips: If you can't bind to 'formGroup' since it isn't a known property of 'form'.\n    //  ******Don't forgot to import FormsModule and ReactiveFormsModule into your <page-name>.module.ts and then add them to the imports array.\n    // https://stackoverflow.com/questions/39152071/cant-bind-to-formgroup-since-it-isnt-a-known-property-of-form\n    // https://stackoverflow.com/questions/53130244/cant-bind-to-formgroup-in-angular-7\n\n    this.loginForm = formBuilder.group({\n      username: [\"\", Validators.compose([Validators.minLength(3), Validators.required])],\n      password: [\"\", Validators.compose([Validators.required])]\n    });\n  }\n\n  ngOnInit() {\n    this.redirectUrl = this.activatedRoute.snapshot.queryParamMap.get(\"redirectUrl\"); // const secondParam: string = this.route.snapshot.queryParamMap.get('secondParamKey');\n\n    console.log(\"redirectUrl=\" + this.redirectUrl); // this.ionicComponentService.presentToast(\n    //   \"Demo account: <br>username = lucky@gmail.com  <br>password= 123456\",\n    //   10000\n    // );\n\n    this.ionicComponentService.presentToastWithOptions(\"Demo account:\", \"notifications-outline\", \"\", \"username = lucky@gmail.com  <br>password= 123456\", \"bottom\", 10000);\n  }\n\n  submitFormTest() {\n    if (!this.loginForm.valid) {\n      console.log(this.loginForm.value); //this.presentAlert(\"invalid form\");\n\n      console.log(\"invalid form\");\n    } else {\n      console.log(this.loginForm.value);\n      console.log(\"yes, \"); //this.userService.loginUser()\n    }\n  }\n\n  register() {\n    if (this.redirectUrl) {\n      this.router.navigateByUrl(\"/fire-signup?redirectUrl=\" + this.redirectUrl);\n    } else {\n      this.router.navigateByUrl(\"/fire-signup\");\n    }\n  }\n\n  forgot() {\n    this.router.navigateByUrl(\"/fire-forgot\");\n  }\n\n  login() {\n    if (!this.loginForm.valid) {\n      console.log(this.loginForm.value); //this.presentAlert(\"invalid form\");\n\n      console.log(\"invalid form\");\n    } else {\n      this.ionicComponentService.presentLoading();\n      console.log(this.loginForm.value);\n      console.log(\"yes, \");\n      this.userService.signinUser(this.loginForm.value.username, this.loginForm.value.password).then(authData => {\n        console.log(\"Auth pass\");\n        this.ionicComponentService.dismissLoading();\n\n        if (this.redirectUrl) {\n          this.router.navigateByUrl(\"/\" + this.redirectUrl);\n        } else {\n          this.router.navigateByUrl(\"/fire-profile\");\n        }\n      }, error => {\n        //var errorMessage: string = error.message;\n        this.ionicComponentService.dismissLoading();\n        console.log(\"Error:\" + error.message);\n        this.ionicComponentService.presentAlert(error.message);\n      });\n    }\n  } //####### Show / hide password #######//\n\n\n  onPasswordToggle() {\n    this.showPassword = !this.showPassword;\n  }\n\n};\nFireSigninPage = __decorate([Component({\n  selector: \"app-fire-signin\",\n  templateUrl: \"./fire-signin.page.html\",\n  styleUrls: [\"./fire-signin.page.scss\"]\n}), __metadata(\"design:paramtypes\", [Router, ActivatedRoute, MenuController, UserService, IonicComponentService, FormBuilder])], FireSigninPage);\nexport { FireSigninPage };","map":null,"metadata":{},"sourceType":"module"}
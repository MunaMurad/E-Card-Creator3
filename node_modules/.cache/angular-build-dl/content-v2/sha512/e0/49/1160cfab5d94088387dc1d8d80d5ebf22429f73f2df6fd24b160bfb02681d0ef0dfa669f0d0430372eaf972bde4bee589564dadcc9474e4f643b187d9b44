"use strict";(self.webpackChunkionic5fullapp_final=self.webpackChunkionic5fullapp_final||[]).push([[5740],{25740:function(t,e,o){o.r(e),o.d(e,{ShoppingCartPageModule:function(){return f}});var n=o(38583),i=o(93092),r=o(52462),s=o(84193),c=o(64762),l=o(80226),g=o(60476),a=o(73071);function u(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"ion-item-sliding",9,13),g.TgZ(2,"ion-item",14),g.TgZ(3,"ion-thumbnail",1),g._UZ(4,"ion-img",15),g.qZA(),g.TgZ(5,"ion-label",10),g.TgZ(6,"h3"),g._uU(7),g.qZA(),g.TgZ(8,"p"),g._uU(9),g.qZA(),g.TgZ(10,"p"),g._uU(11),g.qZA(),g.qZA(),g.TgZ(12,"h5",16),g._uU(13),g.ALo(14,"currency"),g.qZA(),g.qZA(),g.TgZ(15,"ion-item-options",17),g.TgZ(16,"ion-item-option",18),g.NdJ("click",function(){const e=g.CHM(t).index,o=g.MAs(1);return g.oxw(2).removeCartProduct(e,o)}),g._UZ(17,"ion-icon",19),g.qZA(),g.qZA(),g.qZA()}if(2&t){const t=e.$implicit;g.xp6(4),g.Q6J("src",t.image),g.xp6(3),g.Oqu(t.name),g.xp6(2),g.hij("Size: ",t.size,""),g.xp6(2),g.hij("Color: ",t.color,""),g.xp6(2),g.Oqu(g.Dn7(14,5,t.price,"USD","symbol"))}}function h(t,e){if(1&t&&(g.TgZ(0,"div"),g.TgZ(1,"ion-list"),g.YNc(2,u,18,9,"ion-item-sliding",8),g.TgZ(3,"ion-item",9),g.TgZ(4,"ion-label",10),g.TgZ(5,"h1",11),g._uU(6,"Total:"),g.qZA(),g.qZA(),g.TgZ(7,"h5",12),g._uU(8),g.ALo(9,"currency"),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){const t=g.oxw();g.xp6(2),g.Q6J("ngForOf",t.selectedItems),g.xp6(6),g.Oqu(g.Dn7(9,2,t.total,"USD","symbol"))}}function d(t,e){1&t&&(g.TgZ(0,"div",20),g.TgZ(1,"div",21),g._UZ(2,"ion-icon",22),g.qZA(),g.TgZ(3,"div",23),g.TgZ(4,"ion-text",24),g.TgZ(5,"h1",25),g._uU(6,"Your shopping cart is empty"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"div"),g.TgZ(8,"ion-button",26),g._uU(9,"Continue shopping"),g.qZA(),g.qZA(),g.qZA())}function p(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"ion-footer"),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-grid",5),g.TgZ(3,"ion-button",27),g.NdJ("click",function(){return g.CHM(t),g.oxw().checkout()}),g._uU(4,"Checkout"),g.qZA(),g.TgZ(5,"ion-button",26),g._uU(6,"Continue shopping"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}}const m=[{path:"",component:(()=>{class t{constructor(t,e,o,n,i,r){this.shoppingService=t,this.userService=e,this.activatedRoute=o,this.navController=n,this.router=i,this.alertController=r,this.selectedItems=[],this.total=0,this.totalValue=0,this.userAuth=!1}ngOnInit(){}ionViewWillEnter(){return(0,c.__awaiter)(this,void 0,void 0,function*(){this.userAuth=yield this.userService.isLoggedIn(),this.userId=yield this.userService.getUserId(),this.getCartProduct(),console.log("___this.userAuth="+this.userAuth),console.log("___this.userId="+this.userId)})}removeCartProduct(t,e){e.close(),console.log("removeCart"),this.shoppingService.removeItemCart(t),this.getCartProduct()}getCartProduct(){const t=this.shoppingService.getCart();console.log("page not refresh__________________food-cart : items="+t),this.totalValue=0;for(const e of t)this.totalValue+=e.price;this.selectedItems=t,console.log("selected Addon="+this.selectedItems),this.total=this.totalValue}getCartSameProduct(){const t=this.shoppingService.getCart(),e={};for(const o of t)e[o.itemId]?e[o.itemId].count++:e[o.itemId]=Object.assign(Object.assign({},o),{count:1});this.selectedItems=Object.keys(e).map(t=>e[t]),console.log("selected Addon="+this.selectedItems),this.total=this.selectedItems.reduce((t,e)=>t+e.count*e.price,0)}presentAlertConfirm(){return(0,c.__awaiter)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"No permission",message:"You have to signin first!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Confirm Cancel: blah")}},{text:"Login",handler:()=>{console.log("Go to login page"),this.router.navigateByUrl("/fire-signin?redirectUrl=shopping-checkout")}}]})).present()})}checkout(){this.userAuth?(console.log("checkout()___userAuth = true"),this.router.navigateByUrl("/shopping-checkout")):(console.log("checkout()___userAuth = false"),this.presentAlertConfirm())}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(l.s),g.Y36(a.K),g.Y36(s.gz),g.Y36(r.SH),g.Y36(s.F0),g.Y36(r.Br))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-shopping-cart"]],decls:11,vars:3,consts:[[1,"ion-no-border"],["slot","start"],["mode","ios","color","warning","defaultHref","#"],["color","warning"],["padding",""],["fixed","",1,"ion-no-padding"],[4,"ngIf"],["text-center","",4,"ngIf"],["lines","none","class","ion-margin-top",4,"ngFor","ngForOf"],["lines","none",1,"ion-margin-top"],[1,"text-left"],[1,"main-b-header8"],["slot","end","text-right","",1,"main-b-header8"],["slidingItem",""],["lines","none"],[3,"src"],["slot","end","text-right","",1,"main-header7"],["side","end"],[3,"click"],["slot","icon-only","size","small","name","trash"],["text-center",""],[1,"logo-box"],["name","bookmarks-outline","color","light",1,"notification","pop-in"],[1,"ion-text-center"],["color","ulightgrey",1,"ion-margin-bottom"],[1,"main-header5"],["color","warning","fill","blank","expand","full","routerLink","/shopping-home"],["color","warning","expand","full",3,"click"]],template:function(t,e){1&t&&(g.TgZ(0,"ion-header",0),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-buttons",1),g._UZ(3,"ion-back-button",2),g.qZA(),g.TgZ(4,"ion-title",3),g._uU(5,"Cart"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(6,"ion-content",4),g.TgZ(7,"ion-grid",5),g.YNc(8,h,10,6,"div",6),g.YNc(9,d,10,0,"div",7),g.qZA(),g.qZA(),g.YNc(10,p,7,0,"ion-footer",6)),2&t&&(g.xp6(8),g.Q6J("ngIf",e.selectedItems.length),g.xp6(1),g.Q6J("ngIf",!e.selectedItems.length),g.xp6(1),g.Q6J("ngIf",e.selectedItems.length))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,r.jY,n.O5,r.q_,n.sg,r.Ie,r.Q$,r.td,r.Bs,r.Xz,r.IK,r.u8,r.gu,r.yW,r.YG,r.YI,s.rH,r.fr],pipes:[n.H9],styles:["ion-thumbnail[_ngcontent-%COMP%]{--size: 50px;border-radius:8px!important;background-color:#ddd}ion-thumbnail[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border-radius:8px!important}.fixedLabel[_ngcontent-%COMP%]{min-width:100%!important;max-width:100%!important}.logo-box[_ngcontent-%COMP%]{width:100%;height:200px;position:relative;overflow:hidden;margin-top:20%}.logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:140px;height:140px;top:0;bottom:0;right:0;left:0;margin:auto}.logo-box[_ngcontent-%COMP%]   ion-icon.notification[_ngcontent-%COMP%]{font-size:150px;position:absolute;width:140px;height:140px;top:0;bottom:0;right:0;left:0;margin:auto}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[s.Bz.forChild(m)],s.Bz]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[n.ez,i.u5,r.Pc,Z]]}),t})()}}]);
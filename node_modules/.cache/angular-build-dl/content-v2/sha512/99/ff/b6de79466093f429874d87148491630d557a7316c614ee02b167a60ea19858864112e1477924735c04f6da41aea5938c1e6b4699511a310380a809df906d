!function(){"use strict";function t(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==o.return||o.return()}finally{if(c)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(self.webpackChunkionic5fullapp_final=self.webpackChunkionic5fullapp_final||[]).push([[5740],{25740:function(e,i,r){r.r(i),r.d(i,{ShoppingCartPageModule:function(){return b}});var a=r(38583),s=r(3679),c=r(52462),u=r(17410),l=r(64762),g=r(80226),h=r(62272),f=r(73071);function p(t,e){if(1&t){var n=h.EpF();h.TgZ(0,"ion-item-sliding",9,13),h.TgZ(2,"ion-item",14),h.TgZ(3,"ion-thumbnail",1),h._UZ(4,"ion-img",15),h.qZA(),h.TgZ(5,"ion-label",10),h.TgZ(6,"h3"),h._uU(7),h.qZA(),h.TgZ(8,"p"),h._uU(9),h.qZA(),h.TgZ(10,"p"),h._uU(11),h.qZA(),h.qZA(),h.TgZ(12,"h5",16),h._uU(13),h.ALo(14,"currency"),h.qZA(),h.qZA(),h.TgZ(15,"ion-item-options",17),h.TgZ(16,"ion-item-option",18),h.NdJ("click",function(){var t=h.CHM(n).index,e=h.MAs(1);return h.oxw(2).removeCartProduct(t,e)}),h._UZ(17,"ion-icon",19),h.qZA(),h.qZA(),h.qZA()}if(2&t){var o=e.$implicit;h.xp6(4),h.Q6J("src",o.image),h.xp6(3),h.Oqu(o.name),h.xp6(2),h.hij("Size: ",o.size,""),h.xp6(2),h.hij("Color: ",o.color,""),h.xp6(2),h.Oqu(h.Dn7(14,5,o.price,"USD","symbol"))}}function d(t,e){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"ion-list"),h.YNc(2,p,18,9,"ion-item-sliding",8),h.TgZ(3,"ion-item",9),h.TgZ(4,"ion-label",10),h.TgZ(5,"h1",11),h._uU(6,"Total:"),h.qZA(),h.qZA(),h.TgZ(7,"h5",12),h._uU(8),h.ALo(9,"currency"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t){var n=h.oxw();h.xp6(2),h.Q6J("ngForOf",n.selectedItems),h.xp6(6),h.Oqu(h.Dn7(9,2,n.total,"USD","symbol"))}}function m(t,e){1&t&&(h.TgZ(0,"div",20),h.TgZ(1,"div",21),h._UZ(2,"ion-icon",22),h.qZA(),h.TgZ(3,"div",23),h.TgZ(4,"ion-text",24),h.TgZ(5,"h1",25),h._uU(6,"Your shopping cart is empty"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(7,"div"),h.TgZ(8,"ion-button",26),h._uU(9,"Continue shopping"),h.qZA(),h.qZA(),h.qZA())}function Z(t,e){if(1&t){var n=h.EpF();h.TgZ(0,"ion-footer"),h.TgZ(1,"ion-toolbar"),h.TgZ(2,"ion-grid",5),h.TgZ(3,"ion-button",27),h.NdJ("click",function(){return h.CHM(n),h.oxw().checkout()}),h._uU(4,"Checkout"),h.qZA(),h.TgZ(5,"ion-button",26),h._uU(6,"Continue shopping"),h.qZA(),h.qZA(),h.qZA(),h.qZA()}}var v,_=[{path:"",component:(v=function(){function e(t,o,i,r,a,s){n(this,e),this.shoppingService=t,this.userService=o,this.activatedRoute=i,this.navController=r,this.router=a,this.alertController=s,this.selectedItems=[],this.total=0,this.totalValue=0,this.userAuth=!1}var i,r,a;return i=e,(r=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){return(0,l.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.isLoggedIn();case 2:return this.userAuth=t.sent,t.next=5,this.userService.getUserId();case 5:this.userId=t.sent,this.getCartProduct(),console.log("___this.userAuth="+this.userAuth),console.log("___this.userId="+this.userId);case 9:case"end":return t.stop()}},t,this)}))}},{key:"removeCartProduct",value:function(t,e){e.close(),console.log("removeCart"),this.shoppingService.removeItemCart(t),this.getCartProduct()}},{key:"getCartProduct",value:function(){var e=this.shoppingService.getCart();console.log("page not refresh__________________food-cart : items="+e),this.totalValue=0;var n,o=t(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;this.totalValue+=i.price}}catch(r){o.e(r)}finally{o.f()}this.selectedItems=e,console.log("selected Addon="+this.selectedItems),this.total=this.totalValue}},{key:"getCartSameProduct",value:function(){var e,n=this.shoppingService.getCart(),o={},i=t(n);try{for(i.s();!(e=i.n()).done;){var r=e.value;o[r.itemId]?o[r.itemId].count++:o[r.itemId]=Object.assign(Object.assign({},r),{count:1})}}catch(a){i.e(a)}finally{i.f()}this.selectedItems=Object.keys(o).map(function(t){return o[t]}),console.log("selected Addon="+this.selectedItems),this.total=this.selectedItems.reduce(function(t,e){return t+e.count*e.price},0)}},{key:"presentAlertConfirm",value:function(){return(0,l.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"No permission",message:"You have to signin first!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){console.log("Confirm Cancel: blah")}},{text:"Login",handler:function(){console.log("Go to login page"),e.router.navigateByUrl("/fire-signin?redirectUrl=shopping-checkout")}}]});case 2:return t.next=4,t.sent.present();case 4:case"end":return t.stop()}},t,this)}))}},{key:"checkout",value:function(){this.userAuth?(console.log("checkout()___userAuth = true"),this.router.navigateByUrl("/shopping-checkout")):(console.log("checkout()___userAuth = false"),this.presentAlertConfirm())}}])&&o(i.prototype,r),a&&o(i,a),e}(),v.\u0275fac=function(t){return new(t||v)(h.Y36(g.s),h.Y36(f.K),h.Y36(u.gz),h.Y36(c.SH),h.Y36(u.F0),h.Y36(c.Br))},v.\u0275cmp=h.Xpm({type:v,selectors:[["app-shopping-cart"]],decls:11,vars:3,consts:[[1,"ion-no-border"],["slot","start"],["mode","ios","color","warning","defaultHref","#"],["color","warning"],["padding",""],["fixed","",1,"ion-no-padding"],[4,"ngIf"],["text-center","",4,"ngIf"],["lines","none","class","ion-margin-top",4,"ngFor","ngForOf"],["lines","none",1,"ion-margin-top"],[1,"text-left"],[1,"main-b-header8"],["slot","end","text-right","",1,"main-b-header8"],["slidingItem",""],["lines","none"],[3,"src"],["slot","end","text-right","",1,"main-header7"],["side","end"],[3,"click"],["slot","icon-only","size","small","name","trash"],["text-center",""],[1,"logo-box"],["name","bookmarks-outline","color","light",1,"notification","pop-in"],[1,"ion-text-center"],["color","ulightgrey",1,"ion-margin-bottom"],[1,"main-header5"],["color","warning","fill","blank","expand","full","routerLink","/shopping-home"],["color","warning","expand","full",3,"click"]],template:function(t,e){1&t&&(h.TgZ(0,"ion-header",0),h.TgZ(1,"ion-toolbar"),h.TgZ(2,"ion-buttons",1),h._UZ(3,"ion-back-button",2),h.qZA(),h.TgZ(4,"ion-title",3),h._uU(5,"Cart"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"ion-content",4),h.TgZ(7,"ion-grid",5),h.YNc(8,d,10,6,"div",6),h.YNc(9,m,10,0,"div",7),h.qZA(),h.qZA(),h.YNc(10,Z,7,0,"ion-footer",6)),2&t&&(h.xp6(8),h.Q6J("ngIf",e.selectedItems.length),h.xp6(1),h.Q6J("ngIf",!e.selectedItems.length),h.xp6(1),h.Q6J("ngIf",e.selectedItems.length))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.wd,c.W2,c.jY,a.O5,c.q_,a.sg,c.Ie,c.Q$,c.td,c.Bs,c.Xz,c.IK,c.u8,c.gu,c.yW,c.YG,c.YI,u.rH,c.fr],pipes:[a.H9],styles:["ion-thumbnail[_ngcontent-%COMP%]{--size: 50px;border-radius:8px!important;background-color:#ddd}ion-thumbnail[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border-radius:8px!important}.fixedLabel[_ngcontent-%COMP%]{min-width:100%!important;max-width:100%!important}.logo-box[_ngcontent-%COMP%]{width:100%;height:200px;position:relative;overflow:hidden;margin-top:20%}.logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:140px;height:140px;top:0;bottom:0;right:0;left:0;margin:auto}.logo-box[_ngcontent-%COMP%]   ion-icon.notification[_ngcontent-%COMP%]{font-size:150px;position:absolute;width:140px;height:140px;top:0;bottom:0;right:0;left:0;margin:auto}"]}),v)}],A=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[u.Bz.forChild(_)],u.Bz]}),t}(),b=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[a.ez,s.u5,c.Pc,A]]}),t}()}}])}();
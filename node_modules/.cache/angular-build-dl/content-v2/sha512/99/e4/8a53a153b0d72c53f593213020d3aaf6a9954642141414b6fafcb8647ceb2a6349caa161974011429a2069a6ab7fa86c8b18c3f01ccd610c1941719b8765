"use strict";(self.webpackChunkionic5fullapp_final=self.webpackChunkionic5fullapp_final||[]).push([[493],{30493:function(e,t,a){a.r(t),a.d(t,{MapOnePageModule:function(){return w}});var n=a(38583),i=a(93092),o=a(52462),l=a(84193),r=a(64762),s=a(86205),p=a(60476),c=a(86834),m=a(67092);const g=["map"];function d(e,t){if(1&e&&p._UZ(0,"ion-icon",11),2&e){const e=t.$implicit,a=p.oxw(2);p.Q6J("name",e<a.placeRating?"star":"star-outline")}}const h=function(){return[0,1,2,3,4]};function u(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",7),p.TgZ(1,"ion-item"),p.TgZ(2,"ion-thumbnail",0),p._UZ(3,"img",8),p.qZA(),p.TgZ(4,"ion-label"),p.TgZ(5,"h2"),p._uU(6),p.qZA(),p.TgZ(7,"p"),p.YNc(8,d,1,1,"ion-icon",9),p.qZA(),p.TgZ(9,"p"),p._uU(10),p.qZA(),p.TgZ(11,"ion-button",10),p.NdJ("click",function(){return p.CHM(e),p.oxw().openDetail("placeId")}),p._uU(12,"More detail"),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=p.oxw();p.xp6(3),p.s9C("src",e.placeImage,p.LSH),p.xp6(3),p.Oqu(e.placeName),p.xp6(2),p.Q6J("ngForOf",p.DdM(4,h)),p.xp6(2),p.Oqu(e.placeDescription)}}const f=[{path:"",component:(()=>{class e{constructor(e,t,a,n,i,o){this.mapService=e,this.modalController=t,this.activatedRoute=a,this.navController=n,this.ionicComponentService=i,this.router=o,this.viewDetail=!1,this.mapStyle=[{featureType:"landscape.man_made",elementType:"all",stylers:[{color:"#faf5ed"},{lightness:"0"},{gamma:"1"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#bae5a6"}]},{featureType:"road",elementType:"all",stylers:[{weight:"1.00"},{gamma:"1.8"},{saturation:"0"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ffb200"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{lightness:"0"},{gamma:"1"}]},{featureType:"transit.station.airport",elementType:"all",stylers:[{hue:"#b000ff"},{saturation:"23"},{lightness:"-4"},{gamma:"0.80"}]},{featureType:"water",elementType:"all",stylers:[{color:"#a0daf2"}]}]}ngOnInit(){this.getPlace()}getPlace(){return(0,r.__awaiter)(this,void 0,void 0,function*(){this.ionicComponentService.presentLoading(),yield this.mapService.getAllPlaces().subscribe(e=>{console.log("######################### getAllPlaces loaded ="+e),this.places=e,console.log("+++++++++++++= ........place array="+JSON.stringify(this.places)),this.ionicComponentService.dismissLoading(),this.displayMap()})})}displayMap(){let e={center:new google.maps.LatLng(-28.024,140.887),zoom:5,styles:this.mapStyle,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0};console.log("call map>>>>>>>"),this.map=new google.maps.Map(this.mapElement.nativeElement,e),this.addMarkersToMap()}addMarkersToMap(){console.log("<>>>>>>> call addMarkeToMap");for(let a of this.places){console.log("lat="+a.lat);var e=new google.maps.LatLng(a.lat,a.lng),t={url:"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678111-map-marker-512.png",scaledSize:new google.maps.Size(50,50)};this.mapMarker=new google.maps.Marker({position:e,animation:google.maps.Animation.DROP,markerSelected:!0,icon:t}),this.mapMarker.setMap(this.map),this.map.setCenter(e),google.maps.event.addListener(this.mapMarker,"click",()=>{this.getPlaceDetail(a.id,a.name,a.description,a.rating,a.image)})}}openDetail(e){this.viewDetail=!0,console.log("-------pass placeId="+e),this.modalController.create({component:s.$,showBackdrop:!0,componentProps:{placeId:this.placeId}}).then(e=>e.present())}getPlaceDetail(e,t,a,n,i){this.viewDetail=!0,this.placeId=e,this.placeName=t,this.placeDescription=a,this.placeRating=n,this.placeImage=i,console.log("placeId="+this.placeId)}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(c.Y),p.Y36(o.IN),p.Y36(l.gz),p.Y36(o.SH),p.Y36(m.d),p.Y36(l.F0))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-map-one"]],viewQuery:function(e,t){if(1&e&&p.Gf(g,5),2&e){let e;p.iGM(e=p.CRH())&&(t.mapElement=e.first)}},decls:11,vars:1,consts:[["slot","start"],["mode","md","color","river","defaultHref","#"],["color","river",1,"main-header4"],["id","wrapper"],["id","map"],["map",""],["class","place-detail effect6",4,"ngIf"],[1,"place-detail","effect6"],[3,"src"],["style","font-size: 14px !important;","color","warning",3,"name",4,"ngFor","ngForOf"],["fill","outline","slot","end","color","yellow",3,"click"],["color","warning",2,"font-size","14px !important",3,"name"]],template:function(e,t){1&e&&(p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",0),p._UZ(3,"ion-back-button",1),p.qZA(),p.TgZ(4,"ion-title",2),p._uU(5,"MAP 1"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(6,"ion-content"),p.TgZ(7,"div",3),p._UZ(8,"div",4,5),p.YNc(10,u,13,5,"div",6),p.qZA(),p.qZA()),2&e&&(p.xp6(10),p.Q6J("ngIf",t.viewDetail))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.W2,n.O5,o.Ie,o.Bs,o.Q$,n.sg,o.YG,o.gu],styles:["#wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.scroll-content[_ngcontent-%COMP%]{height:100%}#map[_ngcontent-%COMP%]{width:100%;height:100%}.place-detail[_ngcontent-%COMP%]{background-color:none;position:absolute;padding:0;bottom:5px;height:150px;width:350px;z-index:99;text-align:center;margin-left:auto;margin-right:auto;left:0;right:0}ion-thumbnail[_ngcontent-%COMP%]{--size: 80px;margin-top:0;margin-bottom:0;border-radius:8px!important;background-color:#ddd;min-width:6rem;min-height:7rem}ion-label[_ngcontent-%COMP%]{margin:0 5px}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0px;--padding-start: 0px;border-radius:5px!important}.effect6[_ngcontent-%COMP%]{box-shadow:0 1px 4px #0000004d,0 0 40px #0000001a inset}"]}),e})()}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[l.Bz.forChild(f)],l.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.ez,i.u5,o.Pc,y]]}),e})()}}]);
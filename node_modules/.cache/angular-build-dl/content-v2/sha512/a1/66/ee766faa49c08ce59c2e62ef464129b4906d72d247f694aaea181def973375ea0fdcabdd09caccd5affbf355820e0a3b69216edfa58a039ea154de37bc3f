!function(){"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(self.webpackChunkionic5fullapp_final=self.webpackChunkionic5fullapp_final||[]).push([[6277],{46277:function(e,o,i){i.r(o),i.d(o,{TravelDetailPageModule:function(){return _}});var r=i(38583),a=i(93092),l=i(52462),c=i(84193),s=i(64762),g=i(94072),u=i(80072),p=i(60476),d=i(73071);function h(t,n){if(1&t&&(p._UZ(0,"ion-icon",34),p.ALo(1,"async")),2&t){var e,o=n.$implicit,i=p.oxw();p.Q6J("name",o<(null==(e=p.lcZ(1,1,i.place))?null:e.rating)?"star":"star-outline")}}function m(t,n){if(1&t&&(p.TgZ(0,"ion-chip",35),p.TgZ(1,"div"),p.TgZ(2,"ion-label"),p._uU(3),p.qZA(),p.qZA(),p.qZA()),2&t){var e=n.$implicit;p.Q6J("color",e.color),p.xp6(3),p.Oqu(e.name)}}function Z(t,n){if(1&t){var e=p.EpF();p.TgZ(0,"div",36),p.TgZ(1,"img",37),p.NdJ("click",function(){var t=p.CHM(e).index;return p.oxw().openImageViewer(t)}),p.qZA(),p.qZA()}if(2&t){var o=n.$implicit;p.xp6(1),p.Q6J("src",o,p.LSH)}}var f,b=function(t){return{"background-image":t}},v=function(){return[0,1,2,3,4]},x=[{path:"",component:(f=function(){function e(n,o,i,r,a,l){t(this,e),this.travelService=n,this.userService=o,this.activatedRoute=i,this.navController=r,this.router=a,this.modalController=l,this.showToolbar=!1,this.showColor=!1,this.showTitle=!1,this.transition=!1,this.placeArray=[],this.userAuth=!1,this.favorite=!1,this.heartType="heart-empty",this.placeId=this.activatedRoute.snapshot.paramMap.get("placeId")}var o,i,r;return o=e,(i=[{key:"ngOnInit",value:function(){return(0,s.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPlaceDetail();case 2:return t.next=4,this.getPlaceReview();case 4:case"end":return t.stop()}},t,this)}))}},{key:"ngOnDestroy",value:function(){}},{key:"getPlaceDetail",value:function(){return(0,s.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.isLoggedIn();case 2:return this.userAuth=t.sent,t.next=5,this.userService.getUserId();case 5:return this.userId=t.sent,t.next=8,this.travelService.getPlacesDetail(this.placeId);case 8:return this.place=t.sent,t.next=11,this.place.subscribe(function(t){n.placeArray=t,n.heartType=t.favorite.includes(n.userId)?"heart":"heart-empty"});case 11:case"end":return t.stop()}},t,this)}))}},{key:"toggleHeart",value:function(){"heart-empty"==this.heartType?(console.log("Heart ON"),this.travelService.addFavorite(this.placeId,this.placeArray.name,this.placeArray.rating,this.placeArray.image_header)):(console.log("Heart OFF"),this.travelService.removeFavorite(this.placeId))}},{key:"getPlaceReview",value:function(){console.log("###########call  getReview()"),this.reviews=this.travelService.getReviews(this.placeId,5)}},{key:"onScroll",value:function(t){if(t&&t.detail&&t.detail.scrollTop){var n=t.detail.scrollTop;this.transition=!0,this.showToolbar=n>=160,this.showTitle=n>=160}else this.transition=!1}},{key:"openImageViewer",value:function(t){this.modalController.create({component:g.f,cssClass:"fullscreen-modal",componentProps:{data:this.placeArray,index:t}}).then(function(t){t.present()})}}])&&n(o.prototype,i),r&&n(o,r),e}(),f.\u0275fac=function(t){return new(t||f)(p.Y36(u.r),p.Y36(d.K),p.Y36(c.gz),p.Y36(l.SH),p.Y36(c.F0),p.Y36(l.IN))},f.\u0275cmp=p.Xpm({type:f,selectors:[["app-travel-detail"]],decls:83,vars:42,consts:[["fullscreen","true",3,"scrollEvents","ionScroll"],["slot","fixed",1,"ion-no-border"],[1,"first"],["mode","md","slot","start"],["color","light","defaultHref","#"],["color","light",1,"main-header4"],["color","light","slot","end"],["color","light"],["slot","icon-only","name","heart-outline"],[1,"detail-header",3,"ngStyle"],["fixed","",1,"ion-no-padding"],[1,"travel_space1"],["lines","none"],["text-wrap",""],[1,"travel_header1","detail-name"],["color","medium"],[1,"travel_header3","detail-price"],["slot","end"],["style","font-size: 18px !important;","color","warning",3,"name",4,"ngFor","ngForOf"],["size-lg","8","size-md","12","size-sm","12","size","12"],[1,"horizontal-scroll","ion-margin-bottom"],["outline","true",3,"color",4,"ngFor","ngForOf"],[1,"travel_space4"],[1,"detail-horizontal-scroll","ion-margin-top","ion-margin-bottom"],["class","img-gallery margin",4,"ngFor","ngForOf"],["size-lg","4","size-md","12","size-sm","12","size","12"],[1,"ion-margin-bottom"],[1,"main-header5"],[1,"ion-margin-top","ion-margin-bottom"],["slot","start","name","location-outline"],["slot","start","name","mail-outline"],["slot","start","name","call-outline"],["slot","start","name","globe-outline"],["slot","start","name","calendar-outline"],["color","warning",2,"font-size","18px !important",3,"name"],["outline","true",3,"color"],[1,"img-gallery","margin"],[3,"src","click"]],template:function(t,n){var e,o,i,r,a,l,c,s,g,u,d;1&t&&(p.TgZ(0,"ion-content",0),p.NdJ("ionScroll",function(t){return n.onScroll(t)}),p.TgZ(1,"ion-header",1),p.TgZ(2,"ion-toolbar",2),p.TgZ(3,"ion-buttons",3),p._UZ(4,"ion-back-button",4),p.qZA(),p.TgZ(5,"ion-title",5),p._uU(6,"Detail"),p.qZA(),p.TgZ(7,"ion-buttons",6),p.TgZ(8,"ion-button",7),p._UZ(9,"ion-icon",8),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p._UZ(10,"div",9),p.ALo(11,"async"),p.TgZ(12,"ion-grid",10),p.TgZ(13,"div",11),p.TgZ(14,"ion-item",12),p.TgZ(15,"ion-label",13),p.TgZ(16,"h1",14),p._uU(17),p.ALo(18,"async"),p.qZA(),p.TgZ(19,"ion-text",15),p.TgZ(20,"h2",16),p._uU(21),p.ALo(22,"async"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(23,"div",17),p.YNc(24,h,2,3,"ion-icon",18),p.qZA(),p.qZA(),p.qZA(),p.TgZ(25,"ion-row"),p.TgZ(26,"ion-col",19),p.TgZ(27,"div",20),p.YNc(28,m,4,2,"ion-chip",21),p.ALo(29,"async"),p.qZA(),p.TgZ(30,"div",22),p.TgZ(31,"p"),p._uU(32),p.ALo(33,"async"),p.qZA(),p.qZA(),p.TgZ(34,"div",23),p.YNc(35,Z,2,1,"div",24),p.ALo(36,"async"),p.qZA(),p.qZA(),p.TgZ(37,"ion-col",25),p.TgZ(38,"div",26),p.TgZ(39,"ion-item",12),p.TgZ(40,"h1",27),p._uU(41,"Contact"),p.qZA(),p.qZA(),p.TgZ(42,"div",28),p.TgZ(43,"ion-item",12),p._UZ(44,"ion-icon",29),p.TgZ(45,"ion-label"),p.TgZ(46,"h2"),p._uU(47),p.ALo(48,"async"),p.qZA(),p.TgZ(49,"p"),p._uU(50,"Address"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(51,"ion-item",12),p._UZ(52,"ion-icon",30),p.TgZ(53,"ion-label"),p.TgZ(54,"h2"),p._uU(55),p.ALo(56,"async"),p.qZA(),p.TgZ(57,"p"),p._uU(58,"Email"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(59,"ion-item",12),p._UZ(60,"ion-icon",31),p.TgZ(61,"ion-label"),p.TgZ(62,"h2"),p._uU(63),p.ALo(64,"async"),p.qZA(),p.TgZ(65,"p"),p._uU(66,"Phone number"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(67,"ion-item",12),p._UZ(68,"ion-icon",32),p.TgZ(69,"ion-label"),p.TgZ(70,"h2"),p._uU(71),p.ALo(72,"async"),p.qZA(),p.TgZ(73,"p"),p._uU(74,"Website"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(75,"ion-item",12),p._UZ(76,"ion-icon",33),p.TgZ(77,"ion-label"),p.TgZ(78,"h2"),p._uU(79),p.ALo(80,"async"),p.qZA(),p.TgZ(81,"p"),p._uU(82,"Openning time"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.ekj("transition",n.transition),p.Q6J("scrollEvents",!0),p.xp6(2),p.ekj("show-background",n.showToolbar),p.xp6(8),p.Q6J("ngStyle",p.VKq(39,b,"url("+(null==(e=p.lcZ(11,17,n.place))?null:e.image_header)+")")),p.xp6(7),p.Oqu(null==(o=p.lcZ(18,19,n.place))?null:o.name),p.xp6(4),p.hij(" ",null==(i=p.lcZ(22,21,n.place))?null:i.short_description,""),p.xp6(3),p.Q6J("ngForOf",p.DdM(41,v)),p.xp6(4),p.Q6J("ngForOf",null==(r=p.lcZ(29,23,n.place))?null:r.tag),p.xp6(4),p.hij(" ",null==(a=p.lcZ(33,25,n.place))?null:a.description," "),p.xp6(3),p.Q6J("ngForOf",null==(l=p.lcZ(36,27,n.place))?null:l.images),p.xp6(12),p.Oqu(null==(c=p.lcZ(48,29,n.place))?null:c.contact_info.address),p.xp6(8),p.Oqu(null==(s=p.lcZ(56,31,n.place))?null:s.contact_info.email),p.xp6(8),p.hij("+",null==(g=p.lcZ(64,33,n.place))?null:g.contact_info.phone,""),p.xp6(8),p.Oqu(null==(u=p.lcZ(72,35,n.place))?null:u.contact_info.website),p.xp6(8),p.Oqu(null==(d=p.lcZ(80,37,n.place))?null:d.opening))},directives:[l.W2,l.Gu,l.sr,l.Sm,l.oU,l.cs,l.wd,l.YG,l.gu,r.PC,l.jY,l.Ie,l.Q$,l.yW,r.sg,l.Nd,l.wI,l.hM],pipes:[r.Ov],styles:['ion-card[_ngcontent-%COMP%]{margin:0 0 15px!important;width:100%!important}ion-chip[_ngcontent-%COMP%]{padding:10px!important;border-radius:4px!important;height:35px;margin-left:11px}ion-toolbar.first[_ngcontent-%COMP%]{--background: transparent;--ion-color-base: transparent !important}.opening-time[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:18px;margin-top:5px}ion-buttons.showColor[_ngcontent-%COMP%]{color:#333}ion-avatar[_ngcontent-%COMP%]{background-color:#ccc;margin:10px 16px 8px 0!important}.show-title2[_ngcontent-%COMP%]{opacity:1}.show-background[_ngcontent-%COMP%]{border-style:none;animation:fadein .5s;-moz-animation:fadein .5s;-webkit-animation:fadein .5s;-o-animation:fadein .5s;background:var(--ion-color-tertiary)}@keyframes fadein{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}ion-card[_ngcontent-%COMP%]{border-radius:9px!important;box-shadow:0 5px 30px #0000001a!important}.img-gallery-box[_ngcontent-%COMP%]{display:inline-block;padding:4px}.img-gallery[_ngcontent-%COMP%]{margin-left:8px;width:110px;height:90px;background-color:#ddd;display:inline-block;border-radius:8px}.img-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;width:120px;height:90px}.horizontal-scroll[_ngcontent-%COMP%]{white-space:nowrap;height:auto;overflow-x:scroll;overflow-y:auto}.header-md[_ngcontent-%COMP%]:after{background-image:none}.header-ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]:last-child{--border-width: 0}.img-thumbnail[_ngcontent-%COMP%]:before{content:" ";position:absolute;left:0;right:0;top:0;bottom:0;background-size:cover;background-position:center}.img-thumbnail[_ngcontent-%COMP%]{border-radius:9px!important;position:relative;width:100%;height:100px;background-color:#ddd;background-size:cover;background-position:center}.detail-header[_ngcontent-%COMP%]:before{content:" ";position:absolute;left:0;right:0;top:0;bottom:0;background:linear-gradient(to bottom,rgba(0,0,0,0) 68%,rgba(0,0,0,.65) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00000000",endColorstr="#a6000000",GradientType=0)}.detail-header[_ngcontent-%COMP%]{position:relative;height:300px!important;background-size:cover;background-position:center}.detail-header[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]{text-align:center;position:absolute;left:2px;bottom:20px;width:100%;min-width:350px;max-width:600px;color:#fff}.detail-header[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{color:#fff;--background: rgba(0, 0, 0, 0);--border-color: rgba(0, 0, 0, 0)}.detail-header[_ngcontent-%COMP%]   .detail-price[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:bold;position:absolute;left:20px;bottom:20px;text-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.transition[_ngcontent-%COMP%]{transition:background-size .3s ease-in}.avatar-top[_ngcontent-%COMP%]{margin:16px 16px auto 0}.detail-horizontal-scroll[_ngcontent-%COMP%]{margin-left:10px;white-space:nowrap;height:auto;overflow-x:scroll;overflow-y:auto;vertical-align:top!important}']}),f)}],A=function(){var n=function n(){t(this,n)};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[c.Bz.forChild(x)],c.Bz]}),n}(),_=function(){var n=function n(){t(this,n)};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[r.ez,a.u5,l.Pc,A]]}),n}()}}])}();